import{_ as K}from"./logo-RMEbkNKP.js";import{k as O,e as z,b as E,m as w,n as P,r as o,p as c,o as a,w as t,a as e,q as v,f as s,g as m,s as I,t as Q,v as X,i,x as Y,y as Z,h as ee,u as te,z as ne,A as se,c as k,B as x,F as D,C as M,D as oe}from"./index-D3azu4XD.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={__name:"SideBar",setup(U){const b=O(),_=z(b.path),y=E(),g=w(()=>y.platformAdmin||y.tenantSuperAdmin),S=w(()=>y.platformAdmin);P(()=>b.path,d=>{_.value=d});const C=d=>{console.log("菜单选中:",d)};return(d,n)=>{const r=o("el-icon"),u=o("el-menu-item"),p=o("el-sub-menu"),l=o("el-menu");return a(),c(l,{"default-active":_.value,class:"el-menu-vertical",router:"",collapse:!1,onSelect:C},{default:t(()=>[e(u,{index:"/dashboard"},{default:t(()=>[e(r,null,{default:t(()=>[e(m(I))]),_:1}),n[0]||(n[0]=s("span",null,"工作台",-1))]),_:1,__:[0]}),e(u,{index:"/knowledgelist"},{default:t(()=>[e(r,null,{default:t(()=>[e(m(Q))]),_:1}),n[1]||(n[1]=s("span",null,"知识库管理中心",-1))]),_:1,__:[1]}),e(u,{index:"/service"},{default:t(()=>[e(r,null,{default:t(()=>[e(m(X))]),_:1}),n[2]||(n[2]=s("span",null,"知识服务中心",-1))]),_:1,__:[2]}),g.value?(a(),c(p,{key:0,index:"system"},{title:t(()=>[e(r,null,{default:t(()=>[e(m(Y))]),_:1}),n[3]||(n[3]=s("span",null,"系统管理中心",-1))]),default:t(()=>[e(u,{index:"/system/users"},{default:t(()=>n[4]||(n[4]=[i("用户管理")])),_:1,__:[4]}),e(u,{index:"/system/roles"},{default:t(()=>n[5]||(n[5]=[i("角色权限管理")])),_:1,__:[5]}),e(u,{index:"/system/settings"},{default:t(()=>n[6]||(n[6]=[i("系统参数")])),_:1,__:[6]}),e(u,{index:"/system/logs"},{default:t(()=>n[7]||(n[7]=[i("系统日志")])),_:1,__:[7]})]),_:1})):v("",!0),S.value?(a(),c(u,{key:1,index:"/tenant"},{default:t(()=>[e(r,null,{default:t(()=>[e(m(Z))]),_:1}),n[8]||(n[8]=s("span",null,"租户管理中心",-1))]),_:1,__:[8]})):v("",!0),e(u,{index:"/profile"},{default:t(()=>[e(r,null,{default:t(()=>[e(m(ee))]),_:1}),n[9]||(n[9]=s("span",null,"个人中心",-1))]),_:1,__:[9]})]),_:1},8,["default-active"])}}},$=T(le,[["__scopeId","data-v-46792297"]]),ae={class:"header-content"},ue={class:"logo-container"},de={key:0,class:"system-name"},re={key:1,class:"header-right"},_e={class:"tenant"},ie={key:0,class:"roles"},me={class:"user-info"},ce={class:"el-dropdown-link"},pe={class:"username"},fe={class:"drawer-header"},ve={class:"user-meta"},we={class:"username"},ye={class:"roles"},ge={class:"drawer-footer"},ke={__name:"DefaultLayout",setup(U){const b=te(),_=E(),y=w(()=>_.displayTenantName),g=w(()=>{const p=[];return _.platformAdmin&&p.push("平台管理员"),_.tenantSuperAdmin&&p.push("超级管理员"),p}),S=w(()=>_.user?.username||"用户"),C=w(()=>_.userAvatar),d=z(!1),n=z(!1),r=()=>{d.value=window.innerWidth<768};ne(()=>{r(),window.addEventListener("resize",r)}),se(()=>{window.removeEventListener("resize",r)});const u=async()=>{_.logout(),await b.push("/login")};return(p,l)=>{const A=o("el-icon"),L=o("el-tag"),V=o("el-avatar"),N=o("el-dropdown-item"),F=o("el-dropdown-menu"),R=o("el-dropdown"),q=o("el-header"),W=o("el-button"),j=o("el-drawer"),G=o("el-aside"),H=o("router-view"),J=o("el-main"),B=o("el-container");return a(),c(B,{class:"main-container"},{default:t(()=>[e(q,{class:"top-header",height:"56px"},{default:t(()=>[s("div",ae,[s("div",ue,[l[3]||(l[3]=s("img",{src:K,alt:"Logo",class:"logo"},null,-1)),d.value?v("",!0):(a(),k("span",de,"知识管理系统"))]),d.value?(a(),c(A,{key:0,class:"mobile-menu-toggle",onClick:l[0]||(l[0]=f=>n.value=!0)},{default:t(()=>[e(m(I))]),_:1})):v("",!0),d.value?v("",!0):(a(),k("div",re,[s("span",_e,"租户："+x(y.value),1),g.value.length?(a(),k("div",ie,[(a(!0),k(D,null,M(g.value,(f,h)=>(a(),c(L,{key:h,size:"small",type:"info"},{default:t(()=>[i(x(f),1)]),_:2},1024))),128))])):v("",!0),s("div",me,[e(R,null,{dropdown:t(()=>[e(F,null,{default:t(()=>[e(N,{onClick:l[1]||(l[1]=f=>p.$router.push("/profile"))},{default:t(()=>l[4]||(l[4]=[i(" 个人中心 ")])),_:1,__:[4]}),e(N,{onClick:u},{default:t(()=>l[5]||(l[5]=[i("退出登录")])),_:1,__:[5]})]),_:1})]),default:t(()=>[s("span",ce,[e(V,{size:28,src:C.value},null,8,["src"]),s("span",pe,x(S.value),1),e(A,null,{default:t(()=>[e(m(oe))]),_:1})])]),_:1})])]))])]),_:1}),e(B,null,{default:t(()=>[e(j,{modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=f=>n.value=f),direction:"ltr",size:"80%","with-header":!1},{default:t(()=>[s("div",fe,[e(V,{size:40,src:C.value},null,8,["src"]),s("div",ve,[s("div",we,x(S.value),1),s("div",ye,[(a(!0),k(D,null,M(g.value,(f,h)=>(a(),c(L,{key:h,size:"small",type:"info"},{default:t(()=>[i(x(f),1)]),_:2},1024))),128))])])]),e($),s("div",ge,[e(W,{type:"danger",plain:"",block:"",onClick:u},{default:t(()=>l[6]||(l[6]=[i(" 退出登录 ")])),_:1,__:[6]})])]),_:1},8,["modelValue"]),d.value?v("",!0):(a(),c(G,{key:0,width:"220px",class:"aside-container"},{default:t(()=>[e($)]),_:1})),e(J,{class:"main-content"},{default:t(()=>[e(H)]),_:1})]),_:1})]),_:1})}}},Ce=T(ke,[["__scopeId","data-v-4ee23c79"]]);export{Ce as default};
