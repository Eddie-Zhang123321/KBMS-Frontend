import{d as U,e as i,B as K,q as $,a0 as q,A as z,r as o,U as L,c as M,o as b,a,w as s,f as t,K as _,g as y,aH as j,i as p,V as E,C as I,W as O}from"./index-BsXkJmm5.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{af as H,al as P,ag as W,ah as F,ai as J,aj as Q,ak as X}from"./installCanvasRenderer-CdsqtIo3.js";const Y={class:"tenant-admin-statistics"},Z={class:"card-header"},ee={class:"overview-content"},te={class:"overview-item"},ae={class:"metric"},se={class:"overview-item"},oe={class:"metric"},ne={class:"overview-item"},le={class:"metric"},ie={class:"card-header"},re={class:"chart-container"},de={class:"card-header"},ue={class:"table-empty-tip"},ce={__name:"TenantAdminStatistics",setup(_e){H([W,F,J,Q,X]);const m=U({totalUsers:256,totalKnowledgeBases:42,todayNewRegistrations:5}),r=i("week"),v=i(null),d=i(null),k={week:{dates:["周一","周二","周三","周四","周五","周六","周日"],userRegistrations:[20,32,21,34,30,40,35],kbCreations:[5,8,6,10,7,12,9]},month:{dates:["1周","2周","3周","4周"],userRegistrations:[120,150,130,180],kbCreations:[30,45,38,55]},quarter:{dates:["1月","2月","3月"],userRegistrations:[450,520,600],kbCreations:[110,135,150]}},w=()=>{if(!d.value)return;const n=k[r.value],e={tooltip:{trigger:"axis"},legend:{data:["用户注册","知识库创建"]},xAxis:{type:"category",boundaryGap:!1,data:n.dates},yAxis:{type:"value"},series:[{name:"用户注册",type:"line",data:n.userRegistrations,smooth:!0},{name:"知识库创建",type:"line",data:n.kbCreations,smooth:!0}]};d.value.setOption(e)};K(r,w),$(()=>{q(()=>{v.value&&(d.value=P(v.value),w(),window.addEventListener("resize",d.value.resize))})});const u=i(""),C=i(!1),h=i([{date:"2023-07-01",userRegistrations:12,knowledgeBaseCreations:3,status:"正常"},{date:"2023-07-02",userRegistrations:8,knowledgeBaseCreations:2,status:"正常"},{date:"2023-07-03",userRegistrations:15,knowledgeBaseCreations:5,status:"正常"},{date:"2023-07-04",userRegistrations:10,knowledgeBaseCreations:4,status:"正常"},{date:"2023-07-05",userRegistrations:9,knowledgeBaseCreations:3,status:"异常"}]),R=z(()=>u.value?h.value.filter(n=>Object.values(n).some(e=>String(e).toLowerCase().includes(u.value.toLowerCase()))):h.value),B=n=>({正常:"success",异常:"danger",警告:"warning"})[n]||"info";return(n,e)=>{const x=o("el-icon"),g=o("el-card"),f=o("el-radio-button"),V=o("el-radio-group"),T=o("el-input"),c=o("el-table-column"),D=o("el-tag"),S=o("el-empty"),A=o("el-table"),N=L("loading");return b(),M("div",Y,[a(g,{shadow:"hover",class:"overview-card"},{header:s(()=>[t("div",Z,[e[2]||(e[2]=t("span",{class:"card-title"},"租户总览",-1)),a(x,null,{default:s(()=>[a(y(j))]),_:1})])]),default:s(()=>[t("div",ee,[t("div",te,[e[3]||(e[3]=t("span",null,"用户总数",-1)),t("strong",ae,_(m.totalUsers),1)]),t("div",se,[e[4]||(e[4]=t("span",null,"知识库数量",-1)),t("strong",oe,_(m.totalKnowledgeBases),1)]),t("div",ne,[e[5]||(e[5]=t("span",null,"今日新增",-1)),t("strong",le,_(m.todayNewRegistrations),1)])])]),_:1}),a(g,{shadow:"hover",class:"chart-card"},{header:s(()=>[t("div",ie,[e[9]||(e[9]=t("span",{class:"card-title"},"租户用户趋势",-1)),a(V,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),size:"small"},{default:s(()=>[a(f,{label:"week"},{default:s(()=>e[6]||(e[6]=[p("近一周")])),_:1,__:[6]}),a(f,{label:"month"},{default:s(()=>e[7]||(e[7]=[p("近一月")])),_:1,__:[7]}),a(f,{label:"quarter"},{default:s(()=>e[8]||(e[8]=[p("近一季")])),_:1,__:[8]})]),_:1},8,["modelValue"])])]),default:s(()=>[t("div",re,[t("div",{ref_key:"chartRef",ref:v,class:"echarts-chart"},null,512)])]),_:1}),a(g,{shadow:"hover",class:"data-table-card"},{header:s(()=>[t("div",de,[e[10]||(e[10]=t("span",{class:"card-title"},"租户用户数据",-1)),a(T,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),placeholder:"搜索...",clearable:"","prefix-icon":y(O),class:"search-input"},null,8,["modelValue","prefix-icon"])])]),default:s(()=>[E((b(),I(A,{data:R.value,stripe:"",style:{width:"100%"}},{empty:s(()=>[t("div",ue,[a(S,{description:"没有找到匹配的数据"})])]),default:s(()=>[a(c,{prop:"date",label:"日期","min-width":"120"}),a(c,{prop:"userRegistrations",label:"用户注册数","min-width":"120"}),a(c,{prop:"knowledgeBaseCreations",label:"知识库创建数","min-width":"150"}),a(c,{prop:"status",label:"状态","min-width":"100"},{default:s(l=>[a(D,{type:B(l.row.status),effect:"light"},{default:s(()=>[p(_(l.row.status),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])),[[N,C.value]])]),_:1})])}}},ge=G(ce,[["__scopeId","data-v-8a270685"]]);export{ge as default};
