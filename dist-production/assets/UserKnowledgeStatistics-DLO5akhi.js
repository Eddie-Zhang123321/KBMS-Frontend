import{d as L,e as d,B as q,q as z,a0 as E,A as I,r as l,U as M,c as F,o as y,a,w as s,f as t,K as m,g as b,aI as R,i as r,V as j,C as G,W as O}from"./index-BsXkJmm5.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{af as W,al as H,ag as J,ah as Q,ai as X,aj as Y,ak as Z}from"./installCanvasRenderer-CdsqtIo3.js";import{i as ee}from"./install-Bmjs6081.js";const te={class:"user-knowledge-statistics"},ae={class:"card-header"},se={class:"overview-content"},oe={class:"overview-item"},le={class:"metric"},ne={class:"overview-item"},de={class:"metric"},ie={class:"overview-item"},re={class:"metric"},ce={class:"card-header"},ue={class:"chart-container"},pe={class:"card-header"},me={class:"table-empty-tip"},_e={__name:"UserKnowledgeStatistics",setup(ve){W([J,Q,X,Y,Z,ee]);const _=L({totalKnowledgeBases:5,totalDocuments:128,todayNewDocuments:3}),c=d("week"),v=d(null),u=d(null),k={week:{dates:["周一","周二","周三","周四","周五","周六","周日"],newDocs:[12,15,10,18,20,22,25],visits:[30,35,28,40,45,50,55]},month:{dates:["第1周","第2周","第3周","第4周"],newDocs:[60,75,55,80],visits:[180,210,160,240]},quarter:{dates:["1月","2月","3月"],newDocs:[250,300,350],visits:[700,850,950]}},g=()=>{if(!u.value)return;const o=k[c.value];u.value.setOption({tooltip:{trigger:"axis"},legend:{data:["文档新增","知识库访问"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:o.dates},yAxis:{type:"value"},series:[{name:"文档新增",type:"line",data:o.newDocs,smooth:!0,itemStyle:{color:"#409EFF"}},{name:"知识库访问",type:"line",data:o.visits,smooth:!0,itemStyle:{color:"#67C23A"}}]})};q(c,g),z(()=>{E(()=>{v.value&&(u.value=H(v.value),g(),window.addEventListener("resize",()=>u.value.resize()))})});const p=d(""),C=d(!1),h=d([{name:"技术文档",documentCount:42,lastUpdated:"2023-07-15",status:"正常"},{name:"产品手册",documentCount:25,lastUpdated:"2023-07-10",status:"正常"},{name:"项目总结",documentCount:15,lastUpdated:"2023-07-05",status:"警告"},{name:"个人笔记",documentCount:45,lastUpdated:"2023-07-12",status:"正常"},{name:"学习资料",documentCount:1,lastUpdated:"2023-06-28",status:"异常"}]),x=I(()=>p.value?h.value.filter(o=>o.name.toLowerCase().includes(p.value.toLowerCase())):h.value),D=o=>({正常:"success",异常:"danger",警告:"warning"})[o]||"info",U=o=>{console.log("查看知识库:",o.name)};return(o,e)=>{const B=l("el-icon"),w=l("el-card"),f=l("el-radio-button"),V=l("el-radio-group"),K=l("el-input"),i=l("el-table-column"),S=l("el-tag"),$=l("el-button"),N=l("el-empty"),T=l("el-table"),A=M("loading");return y(),F("div",te,[a(w,{shadow:"hover",class:"overview-card"},{header:s(()=>[t("div",ae,[e[2]||(e[2]=t("span",{class:"card-title"},"个人知识库",-1)),a(B,null,{default:s(()=>[a(b(R))]),_:1})])]),default:s(()=>[t("div",se,[t("div",oe,[e[3]||(e[3]=t("span",null,"知识库数量",-1)),t("strong",le,m(_.totalKnowledgeBases),1)]),t("div",ne,[e[4]||(e[4]=t("span",null,"文档总数",-1)),t("strong",de,m(_.totalDocuments),1)]),t("div",ie,[e[5]||(e[5]=t("span",null,"今日新增",-1)),t("strong",re,m(_.todayNewDocuments),1)])])]),_:1}),a(w,{shadow:"hover",class:"chart-card"},{header:s(()=>[t("div",ce,[e[9]||(e[9]=t("span",{class:"card-title"},"知识库使用趋势",-1)),a(V,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=n=>c.value=n),size:"small"},{default:s(()=>[a(f,{label:"week"},{default:s(()=>e[6]||(e[6]=[r("近一周")])),_:1,__:[6]}),a(f,{label:"month"},{default:s(()=>e[7]||(e[7]=[r("近一月")])),_:1,__:[7]}),a(f,{label:"quarter"},{default:s(()=>e[8]||(e[8]=[r("近一季")])),_:1,__:[8]})]),_:1},8,["modelValue"])])]),default:s(()=>[t("div",ue,[t("div",{ref_key:"chartRef",ref:v,class:"echarts-chart"},null,512)])]),_:1}),a(w,{shadow:"hover",class:"data-table-card"},{header:s(()=>[t("div",pe,[e[10]||(e[10]=t("span",{class:"card-title"},"知识库明细",-1)),a(K,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=n=>p.value=n),placeholder:"搜索知识库",clearable:"","prefix-icon":b(O),class:"search-input"},null,8,["modelValue","prefix-icon"])])]),default:s(()=>[j((y(),G(T,{data:x.value,stripe:"",style:{width:"100%"}},{empty:s(()=>[t("div",me,[a(N,{description:"没有找到匹配的数据"})])]),default:s(()=>[a(i,{prop:"name",label:"知识库名称","min-width":"150"}),a(i,{prop:"documentCount",label:"文档数量",sortable:"","min-width":"100"}),a(i,{prop:"lastUpdated",label:"最近更新",sortable:"","min-width":"120"}),a(i,{prop:"status",label:"状态","min-width":"100"},{default:s(n=>[a(S,{type:D(n.row.status),effect:"light"},{default:s(()=>[r(m(n.row.status),1)]),_:2},1032,["type"])]),_:1}),a(i,{label:"操作",width:"120",fixed:"right"},{default:s(n=>[a($,{type:"primary",link:"",onClick:we=>U(n.row)},{default:s(()=>e[11]||(e[11]=[r(" 查看 ")])),_:2,__:[11]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[A,C.value]])]),_:1})])}}},be=P(_e,[["__scopeId","data-v-8763dd65"]]);export{be as default};
