import{_ as K}from"./logo-RMEbkNKP.js";import{k as O,e as A,b as E,m as y,n as P,r as o,p as m,o as a,w as t,a as e,q as p,f as s,g as i,s as I,t as Q,v as X,i as c,x as Y,y as Z,h as ee,u as te,z as ne,A as se,c as k,B as x,F as D,C as M,D as oe}from"./index-CxOdaYXd.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={__name:"SideBar",setup(U){const b=O(),_=A(b.path),w=E(),g=y(()=>w.platformAdmin||w.tenantSuperAdmin),S=y(()=>w.platformAdmin);P(()=>b.path,d=>{_.value=d});const C=d=>{console.log("菜单选中:",d)};return(d,n)=>{const r=o("el-icon"),u=o("el-menu-item"),f=o("el-sub-menu"),l=o("el-menu");return a(),m(l,{"default-active":_.value,class:"el-menu-vertical",router:"",collapse:!1,onSelect:C},{default:t(()=>[e(u,{index:"/dashboard"},{default:t(()=>[e(r,null,{default:t(()=>[e(i(I))]),_:1}),n[0]||(n[0]=s("span",null,"工作台",-1))]),_:1,__:[0]}),e(u,{index:"/knowledgelist"},{default:t(()=>[e(r,null,{default:t(()=>[e(i(Q))]),_:1}),n[1]||(n[1]=s("span",null,"知识库管理中心",-1))]),_:1,__:[1]}),e(u,{index:"/service"},{default:t(()=>[e(r,null,{default:t(()=>[e(i(X))]),_:1}),n[2]||(n[2]=s("span",null,"知识服务中心",-1))]),_:1,__:[2]}),g.value?(a(),m(f,{key:0,index:"system"},{title:t(()=>[e(r,null,{default:t(()=>[e(i(Y))]),_:1}),n[3]||(n[3]=s("span",null,"系统管理中心",-1))]),default:t(()=>[i(w).platformAdmin?p("",!0):(a(),m(u,{key:0,index:"/system/users"},{default:t(()=>n[4]||(n[4]=[c("用户管理")])),_:1,__:[4]})),e(u,{index:"/system/roles"},{default:t(()=>n[5]||(n[5]=[c("角色权限管理")])),_:1,__:[5]}),e(u,{index:"/system/settings"},{default:t(()=>n[6]||(n[6]=[c("系统参数")])),_:1,__:[6]}),e(u,{index:"/system/logs"},{default:t(()=>n[7]||(n[7]=[c("系统日志")])),_:1,__:[7]})]),_:1})):p("",!0),S.value?(a(),m(u,{key:1,index:"/tenant"},{default:t(()=>[e(r,null,{default:t(()=>[e(i(Z))]),_:1}),n[8]||(n[8]=s("span",null,"租户管理中心",-1))]),_:1,__:[8]})):p("",!0),e(u,{index:"/profile"},{default:t(()=>[e(r,null,{default:t(()=>[e(i(ee))]),_:1}),n[9]||(n[9]=s("span",null,"个人中心",-1))]),_:1,__:[9]})]),_:1},8,["default-active"])}}},$=T(le,[["__scopeId","data-v-75032a27"]]),ae={class:"header-content"},ue={class:"logo-container"},de={key:0,class:"system-name"},re={key:1,class:"header-right"},_e={class:"tenant"},ie={key:0,class:"roles"},me={class:"user-info"},ce={class:"el-dropdown-link"},pe={class:"username"},fe={class:"drawer-header"},ve={class:"user-meta"},we={class:"username"},ye={class:"roles"},ge={class:"drawer-footer"},ke={__name:"DefaultLayout",setup(U){const b=te(),_=E(),w=y(()=>_.displayTenantName),g=y(()=>{const f=[];return _.platformAdmin&&f.push("平台管理员"),_.tenantSuperAdmin&&f.push("超级管理员"),f}),S=y(()=>_.user?.username||"用户"),C=y(()=>_.userAvatar),d=A(!1),n=A(!1),r=()=>{d.value=window.innerWidth<768};ne(()=>{r(),window.addEventListener("resize",r)}),se(()=>{window.removeEventListener("resize",r)});const u=async()=>{_.logout(),await b.push("/login")};return(f,l)=>{const z=o("el-icon"),L=o("el-tag"),V=o("el-avatar"),N=o("el-dropdown-item"),F=o("el-dropdown-menu"),R=o("el-dropdown"),q=o("el-header"),W=o("el-button"),j=o("el-drawer"),G=o("el-aside"),H=o("router-view"),J=o("el-main"),B=o("el-container");return a(),m(B,{class:"main-container"},{default:t(()=>[e(q,{class:"top-header",height:"56px"},{default:t(()=>[s("div",ae,[s("div",ue,[l[3]||(l[3]=s("img",{src:K,alt:"Logo",class:"logo"},null,-1)),d.value?p("",!0):(a(),k("span",de,"知识管理系统"))]),d.value?(a(),m(z,{key:0,class:"mobile-menu-toggle",onClick:l[0]||(l[0]=v=>n.value=!0)},{default:t(()=>[e(i(I))]),_:1})):p("",!0),d.value?p("",!0):(a(),k("div",re,[s("span",_e,"租户："+x(w.value),1),g.value.length?(a(),k("div",ie,[(a(!0),k(D,null,M(g.value,(v,h)=>(a(),m(L,{key:h,size:"small",type:"info"},{default:t(()=>[c(x(v),1)]),_:2},1024))),128))])):p("",!0),s("div",me,[e(R,null,{dropdown:t(()=>[e(F,null,{default:t(()=>[e(N,{onClick:l[1]||(l[1]=v=>f.$router.push("/profile"))},{default:t(()=>l[4]||(l[4]=[c(" 个人中心 ")])),_:1,__:[4]}),e(N,{onClick:u},{default:t(()=>l[5]||(l[5]=[c("退出登录")])),_:1,__:[5]})]),_:1})]),default:t(()=>[s("span",ce,[e(V,{size:28,src:C.value},null,8,["src"]),s("span",pe,x(S.value),1),e(z,null,{default:t(()=>[e(i(oe))]),_:1})])]),_:1})])]))])]),_:1}),e(B,null,{default:t(()=>[e(j,{modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=v=>n.value=v),direction:"ltr",size:"80%","with-header":!1},{default:t(()=>[s("div",fe,[e(V,{size:40,src:C.value},null,8,["src"]),s("div",ve,[s("div",we,x(S.value),1),s("div",ye,[(a(!0),k(D,null,M(g.value,(v,h)=>(a(),m(L,{key:h,size:"small",type:"info"},{default:t(()=>[c(x(v),1)]),_:2},1024))),128))])])]),e($),s("div",ge,[e(W,{type:"danger",plain:"",block:"",onClick:u},{default:t(()=>l[6]||(l[6]=[c(" 退出登录 ")])),_:1,__:[6]})])]),_:1},8,["modelValue"]),d.value?p("",!0):(a(),m(G,{key:0,width:"220px",class:"aside-container"},{default:t(()=>[e($)]),_:1})),e(J,{class:"main-content"},{default:t(()=>[e(H)]),_:1})]),_:1})]),_:1})}}},Ce=T(ke,[["__scopeId","data-v-8be98d58"]]);export{Ce as default};
