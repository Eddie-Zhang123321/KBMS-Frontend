import{r as e,F as a,n as s,w as t,b1 as l,I as i,J as r,a1 as n,V as c,K as o,$ as d,u as v,aO as u,Z as m,bV as f,aV as h,cc as p,b$ as g}from"./vue-vendor-BUDnSszI.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{u as w,i as b,a as y,b as x,c as R,d as z,e as S,f as k,g as L,h as U,j as A}from"./charts-vendor-9etj8hyj.js";import"./vendor-zcc-V1Og.js";const C={class:"platform-admin-statistics"},E={class:"card-header"},O={class:"tenant-stats-content"},V={class:"stat-item"},j={class:"stat-value"},P={class:"stat-change"},I={class:"stat-item"},N={class:"stat-value"},T={class:"tenant-chart-container"},q={class:"trend-charts-container"},F={class:"chart-controls"},$={class:"card-header"},B={class:"system-stats-content"},D={class:"stat-item"},J={class:"stat-value"},K={class:"stat-item"},Z={class:"stat-change"},G={class:"system-chart-container"},H={class:"card-header"},M={class:"admin-overview-content"},Q={class:"overview-item"},W={class:"overview-value"},X={class:"overview-item"},Y={class:"overview-value"},ee={class:"overview-item"},ae={class:"overview-value"},se={class:"overview-item"},te={class:"overview-value"},le={class:"overview-item"},ie={class:"overview-item"},re={class:"overview-time"},ne=_({__name:"PlatformAdminStatistics",setup(_){w([b,y,x,R,z,S,k,L,U]);const ne=e({totalTenants:128,totalUsers:3256,todayNewRegistrations:12}),ce=e(null),oe=e(null),de=e(null),ve=e(null),ue=e(null),me=e(null),fe=e(null),he=e({}),pe=e("week"),ge=e(""),_e=e(1248),we=e(89),be=e(156),ye=e(89),xe=e(45),Re={week:{dates:["周一","周二","周三","周四","周五","周六","周日"],tenantRegistrations:[12,13,10,13,9,23,21],userRegistrations:[22,18,19,23,29,33,31]},month:{dates:["第1周","第2周","第3周","第4周"],tenantRegistrations:[45,52,48,60],userRegistrations:[180,210,190,250]},quarter:{dates:["第1月","第2月","第3月"],tenantRegistrations:[150,180,200],userRegistrations:[600,750,850]}};function ze(){const e=Re[pe.value],a={tooltip:{trigger:"axis"},legend:{data:["租户注册","用户注册"],bottom:0},xAxis:{type:"category",data:e.dates},yAxis:{type:"value"},series:[{name:"租户注册",data:e.tenantRegistrations,itemStyle:{color:"#3a8ee6"}},{name:"用户注册",data:e.userRegistrations,itemStyle:{color:"#13ce66"}}]};he.value.line||(he.value.line=A(de.value),window.addEventListener("resize",()=>he.value.line.resize())),he.value.line.setOption({...a,title:{text:"注册趋势",left:"center"},series:a.series.map(e=>({...e,type:"line",smooth:!0}))}),he.value.bar||(he.value.bar=A(ve.value),window.addEventListener("resize",()=>he.value.bar.resize())),he.value.bar.setOption({...a,title:{text:"注册对比",left:"center"},series:a.series.map(e=>({...e,type:"bar"}))})}const Se=()=>{const e=new Date;ge.value=e.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})};return a(()=>{s(()=>{ze(),function(){const e=A(ce.value);window.addEventListener("resize",()=>e.resize()),e.setOption({tooltip:{trigger:"item",formatter:"{b}<br/>数量: {c}<br/>占比: {d}%"},legend:{orient:"horizontal",left:"center",bottom:"5%"},series:[{name:"租户状态",type:"pie",radius:["40%","60%"],center:["50%","45%"],data:[{value:80,name:"活跃租户",itemStyle:{color:"#13ce66"}},{value:30,name:"未激活租户",itemStyle:{color:"#f56c6c"}},{value:18,name:"已暂停租户",itemStyle:{color:"#909399"}}],label:{show:!1}}]})}(),function(){const e=A(oe.value);window.addEventListener("resize",()=>e.resize()),e.setOption({tooltip:{trigger:"item",formatter:"{b}<br/>数量: {c}<br/>占比: {d}%"},legend:{orient:"horizontal",left:"center",bottom:"5%"},series:[{name:"系统用户",type:"pie",radius:["40%","60%"],center:["50%","45%"],data:[{value:50,name:"超级管理员",itemStyle:{color:"#f56c6c"}},{value:800,name:"普通用户",itemStyle:{color:"#409eff"}},{value:200,name:"知识库管理员",itemStyle:{color:"#13ce66"}},{value:213,name:"知识库所有人",itemStyle:{color:"#e6a23c"}}],label:{show:!1}}]})}(),function(){const e=["CPU使用率","内存使用率","磁盘使用率"],a=[65,45,75];[ue,me,fe].forEach((s,t)=>{const l=A(s.value);window.addEventListener("resize",()=>l.resize()),l.setOption({title:{text:e[t],left:"center",top:"20px",textStyle:{fontSize:14}},series:[{type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}%",offsetCenter:[0,"80%"]},data:[{value:a[t]}],axisLine:{lineStyle:{width:15,color:[[.3,"#67C23A"],[.7,"#E6A23C"],[1,"#F56C6C"]]}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}}]})})}()}),Se(),setInterval(Se,1e3)}),t(pe,ze),(e,a)=>{const s=l("el-icon"),t=l("el-col"),_=l("el-row"),w=l("el-radio-button"),b=l("el-radio-group"),y=l("el-card"),x=l("el-tag");return r(),i("div",C,[n(y,{shadow:"hover",class:"tenant-stats-card"},{header:c(()=>[o("div",E,[a[1]||(a[1]=o("span",{class:"card-title"},"租户统计",-1)),n(s,null,{default:c(()=>[n(v(f))]),_:1})])]),default:c(()=>[o("div",O,[n(_,{gutter:20},{default:c(()=>[n(t,{xs:24,sm:12,md:8},{default:c(()=>[o("div",V,[o("div",j,d(ne.value.totalTenants),1),a[3]||(a[3]=o("div",{class:"stat-label"},"租户总数",-1)),o("div",P,[a[2]||(a[2]=o("span",{class:"change-text"},"7% 较昨日",-1)),n(s,{class:"change-icon down"},{default:c(()=>[n(v(u))]),_:1})])])]),_:1}),n(t,{xs:24,sm:12,md:8},{default:c(()=>[o("div",I,[o("div",N,d(ne.value.todayNewRegistrations),1),a[4]||(a[4]=o("div",{class:"stat-label"},"今日新增",-1))])]),_:1}),n(t,{xs:24,sm:12,md:8},{default:c(()=>a[5]||(a[5]=[o("div",{class:"stat-item"},[o("div",{class:"stat-value"},"80"),o("div",{class:"stat-label"},"活跃租户"),o("div",{class:"stat-change"},[o("span",{class:"change-text"},"62.5%")])],-1)])),_:1,__:[5]})]),_:1}),o("div",T,[o("div",{ref_key:"tenantStatusPieRef",ref:ce,class:"echarts-chart tenant-pie-chart"},null,512)]),o("div",q,[o("div",F,[n(b,{modelValue:pe.value,"onUpdate:modelValue":a[0]||(a[0]=e=>pe.value=e),size:"small"},{default:c(()=>[n(w,{label:"week"},{default:c(()=>a[6]||(a[6]=[m("近一周")])),_:1,__:[6]}),n(w,{label:"month"},{default:c(()=>a[7]||(a[7]=[m("近一月")])),_:1,__:[7]}),n(w,{label:"quarter"},{default:c(()=>a[8]||(a[8]=[m("近一季")])),_:1,__:[8]})]),_:1},8,["modelValue"])]),n(_,{gutter:15},{default:c(()=>[n(t,{xs:24,sm:24,md:12},{default:c(()=>[o("div",{ref_key:"registrationLineRef",ref:de,class:"echarts-chart trend-chart"},null,512)]),_:1}),n(t,{xs:24,sm:24,md:12},{default:c(()=>[o("div",{ref_key:"registrationBarRef",ref:ve,class:"echarts-chart trend-chart"},null,512)]),_:1})]),_:1})])])]),_:1}),n(y,{shadow:"hover",class:"system-stats-card"},{header:c(()=>[o("div",$,[a[9]||(a[9]=o("span",{class:"card-title"},"系统统计",-1)),n(s,null,{default:c(()=>[n(v(p))]),_:1})])]),default:c(()=>[o("div",B,[n(_,{gutter:20},{default:c(()=>[n(t,{xs:24,sm:12,md:8},{default:c(()=>[o("div",D,[o("div",J,d(ne.value.totalUsers),1),a[10]||(a[10]=o("div",{class:"stat-label"},"系统用户总数",-1))])]),_:1}),n(t,{xs:24,sm:12,md:8},{default:c(()=>a[11]||(a[11]=[o("div",{class:"stat-item"},[o("div",{class:"stat-value"},"50,000"),o("div",{class:"stat-label"},"问答总统计"),o("div",{class:"stat-sub-label"},"(今日1000次)"),o("div",{class:"stat-change"},[o("span",{class:"change-text error"},"错误率3%")])],-1)])),_:1,__:[11]}),n(t,{xs:24,sm:12,md:8},{default:c(()=>[o("div",K,[a[13]||(a[13]=o("div",{class:"stat-value"},"500",-1)),a[14]||(a[14]=o("div",{class:"stat-label"},"知识库全局统计",-1)),a[15]||(a[15]=o("div",{class:"stat-sub-label"},"最近新增:20个",-1)),o("div",Z,[a[12]||(a[12]=o("span",{class:"change-text"},"5% 较昨日",-1)),n(s,{class:"change-icon up"},{default:c(()=>[n(v(h))]),_:1})])])]),_:1})]),_:1}),o("div",G,[o("div",{ref_key:"systemUserPieRef",ref:oe,class:"echarts-chart system-pie-chart"},null,512)])])]),_:1}),n(y,{shadow:"hover",class:"system-resource-card"},{header:c(()=>[o("div",H,[a[16]||(a[16]=o("span",{class:"card-title"},"系统资源使用",-1)),n(s,null,{default:c(()=>[n(v(g))]),_:1})])]),default:c(()=>[o("div",M,[o("div",Q,[a[17]||(a[17]=o("span",{class:"overview-label"},"在线用户数",-1)),o("span",W,d(_e.value),1)]),o("div",X,[a[18]||(a[18]=o("span",{class:"overview-label"},"使用中知识库",-1)),o("span",Y,d(we.value),1)]),o("div",ee,[a[19]||(a[19]=o("span",{class:"overview-label"},"API请求量",-1)),o("span",ae,d(be.value)+"/min",1)]),o("div",se,[a[20]||(a[20]=o("span",{class:"overview-label"},"查询次数",-1)),o("span",te,d(ye.value)+"/min",1)]),o("div",le,[a[21]||(a[21]=o("span",{class:"overview-label"},"系统负载",-1)),n(x,{type:xe.value<70?"success":xe.value<90?"warning":"danger",effect:"light",size:"small"},{default:c(()=>[m(d(xe.value)+"%",1)]),_:1},8,["type"])]),o("div",ie,[a[22]||(a[22]=o("span",{class:"overview-label"},"最后更新",-1)),o("span",re,d(ge.value),1)])]),n(_,{gutter:20,class:"resource-row"},{default:c(()=>[n(t,{xs:24,sm:8,md:8},{default:c(()=>[o("div",{ref_key:"cpuUsageRef",ref:ue,class:"echarts-chart resource-chart"},null,512)]),_:1}),n(t,{xs:24,sm:8,md:8},{default:c(()=>[o("div",{ref_key:"memoryUsageRef",ref:me,class:"echarts-chart resource-chart"},null,512)]),_:1}),n(t,{xs:24,sm:8,md:8},{default:c(()=>[o("div",{ref_key:"diskUsageRef",ref:fe,class:"echarts-chart resource-chart"},null,512)]),_:1})]),_:1})]),_:1})])}}},[["__scopeId","data-v-b7070331"]]);export{ne as default};
