import{a as e,r as a,w as t,F as s,n as l,d as o,b1 as d,bh as r,I as n,J as i,a1 as u,V as c,K as m,$ as p,u as v,cd as h,Z as w,W as f,U as _,bE as b}from"./vue-vendor-BUDnSszI.js";import{_ as g}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{u as y,j as C,i as U,d as k,e as x,f as D,g as V,h as j}from"./charts-vendor-9etj8hyj.js";import"./vendor-zcc-V1Og.js";const K={class:"user-knowledge-statistics"},L={class:"card-header"},z={class:"overview-content"},A={class:"overview-item"},E={class:"metric"},F={class:"overview-item"},S={class:"metric"},q={class:"overview-item"},B={class:"metric"},I={class:"card-header"},N={class:"chart-container"},G={class:"card-header"},J={class:"table-empty-tip"},O=g({__name:"UserKnowledgeStatistics",setup(g){y([U,k,x,D,V,j]);const O=e({totalKnowledgeBases:5,totalDocuments:128,todayNewDocuments:3}),R=a("week"),W=a(null),Z=a(null),$={week:{dates:["周一","周二","周三","周四","周五","周六","周日"],newDocs:[12,15,10,18,20,22,25],visits:[30,35,28,40,45,50,55]},month:{dates:["第1周","第2周","第3周","第4周"],newDocs:[60,75,55,80],visits:[180,210,160,240]},quarter:{dates:["1月","2月","3月"],newDocs:[250,300,350],visits:[700,850,950]}},H=()=>{if(!Z.value)return;const e=$[R.value];Z.value.setOption({tooltip:{trigger:"axis"},legend:{data:["文档新增","知识库访问"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.dates},yAxis:{type:"value"},series:[{name:"文档新增",type:"line",data:e.newDocs,smooth:!0,itemStyle:{color:"#409EFF"}},{name:"知识库访问",type:"line",data:e.visits,smooth:!0,itemStyle:{color:"#67C23A"}}]})};t(R,H),s(()=>{l(()=>{W.value&&(Z.value=C(W.value),H(),window.addEventListener("resize",()=>Z.value.resize()))})});const M=a(""),P=a(!1),Q=a([{name:"技术文档",documentCount:42,lastUpdated:"2023-07-15",status:"正常"},{name:"产品手册",documentCount:25,lastUpdated:"2023-07-10",status:"正常"},{name:"项目总结",documentCount:15,lastUpdated:"2023-07-05",status:"警告"},{name:"个人笔记",documentCount:45,lastUpdated:"2023-07-12",status:"正常"},{name:"学习资料",documentCount:1,lastUpdated:"2023-06-28",status:"异常"}]),T=o(()=>M.value?Q.value.filter(e=>e.name.toLowerCase().includes(M.value.toLowerCase())):Q.value);return(e,a)=>{const t=d("el-icon"),s=d("el-card"),l=d("el-radio-button"),o=d("el-radio-group"),g=d("el-input"),y=d("el-table-column"),C=d("el-tag"),U=d("el-button"),k=d("el-empty"),x=d("el-table"),D=r("loading");return i(),n("div",K,[u(s,{shadow:"hover",class:"overview-card"},{header:c(()=>[m("div",L,[a[2]||(a[2]=m("span",{class:"card-title"},"个人知识库",-1)),u(t,null,{default:c(()=>[u(v(h))]),_:1})])]),default:c(()=>[m("div",z,[m("div",A,[a[3]||(a[3]=m("span",null,"知识库数量",-1)),m("strong",E,p(O.totalKnowledgeBases),1)]),m("div",F,[a[4]||(a[4]=m("span",null,"文档总数",-1)),m("strong",S,p(O.totalDocuments),1)]),m("div",q,[a[5]||(a[5]=m("span",null,"今日新增",-1)),m("strong",B,p(O.todayNewDocuments),1)])])]),_:1}),u(s,{shadow:"hover",class:"chart-card"},{header:c(()=>[m("div",I,[a[9]||(a[9]=m("span",{class:"card-title"},"知识库使用趋势",-1)),u(o,{modelValue:R.value,"onUpdate:modelValue":a[0]||(a[0]=e=>R.value=e),size:"small"},{default:c(()=>[u(l,{label:"week"},{default:c(()=>a[6]||(a[6]=[w("近一周")])),_:1,__:[6]}),u(l,{label:"month"},{default:c(()=>a[7]||(a[7]=[w("近一月")])),_:1,__:[7]}),u(l,{label:"quarter"},{default:c(()=>a[8]||(a[8]=[w("近一季")])),_:1,__:[8]})]),_:1},8,["modelValue"])])]),default:c(()=>[m("div",N,[m("div",{ref_key:"chartRef",ref:W,class:"echarts-chart"},null,512)])]),_:1}),u(s,{shadow:"hover",class:"data-table-card"},{header:c(()=>[m("div",G,[a[10]||(a[10]=m("span",{class:"card-title"},"知识库明细",-1)),u(g,{modelValue:M.value,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value=e),placeholder:"搜索知识库",clearable:"","prefix-icon":v(b),class:"search-input"},null,8,["modelValue","prefix-icon"])])]),default:c(()=>[f((i(),_(x,{data:T.value,stripe:"",style:{width:"100%"}},{empty:c(()=>[m("div",J,[u(k,{description:"没有找到匹配的数据"})])]),default:c(()=>[u(y,{prop:"name",label:"知识库名称","min-width":"150"}),u(y,{prop:"documentCount",label:"文档数量",sortable:"","min-width":"100"}),u(y,{prop:"lastUpdated",label:"最近更新",sortable:"","min-width":"120"}),u(y,{prop:"status",label:"状态","min-width":"100"},{default:c(e=>{return[u(C,{type:(a=e.row.status,{"正常":"success","异常":"danger","警告":"warning"}[a]||"info"),effect:"light"},{default:c(()=>[w(p(e.row.status),1)]),_:2},1032,["type"])];var a}),_:1}),u(y,{label:"操作",width:"120",fixed:"right"},{default:c(e=>[u(U,{type:"primary",link:"",onClick:a=>{e.row}},{default:c(()=>a[11]||(a[11]=[w(" 查看 ")])),_:2,__:[11]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[D,P.value]])]),_:1})])}}},[["__scopeId","data-v-8763dd65"]]);export{O as default};
