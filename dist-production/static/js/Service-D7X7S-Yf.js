import{r as e,d as a,w as t,F as l,b1 as s,I as i,J as o,a1 as u,V as n,K as r,a0 as d,av as c,U as v,$ as p,Z as m,bY as h,a as y,a7 as f,X as g,ae as k,N as w,as as _,u as b,n as x}from"./vue-vendor-BUDnSszI.js";import{_ as V}from"./logo-B9TFvINw.js";import{aL as T,aU as D,aV as U,aK as C,aW as I}from"./vendor-zcc-V1Og.js";import{g as S,u as q,a as A,s as $,b as L,d as E,c as j}from"./chat-CTPsmCEm.js";import{c as K}from"./ticket-DtMqVmfI.js";import{_ as W}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-8D9d6p3q.js";import"./network-vendor-ztdpVPaQ.js";const B={class:"chat-setting"},z={class:"knowledge-base-weights"},N={class:"kb-name"},F={class:"kb-weight"},H={class:"action-buttons"},M=W({__name:"ChatSetting",props:{chatId:{type:String,required:!0}},emits:["close"],setup(h,{emit:y}){const f=h,g=y,k=e([{label:"DeepSeek-V3",value:"deepseek"},{label:"ChatGPT-5",value:"gpt-5"},{label:"ChatGPT-4o",value:"gpt-4o"},{label:"Claude-4-Sonnet",value:"claude-4-sonnet"},{label:"Qwen2.5-max",value:"qwen2.5-max"}]),w=e({model:"DeepSeek-V3",topK:5,similarityThreshold:.7,knowledgeBaseWeights:[]}),_=e({model:"deepseek",topK:5,similarityThreshold:.7,knowledgeBaseWeights:[]}),b=e(!1),x=e(!1),V=a(()=>w.value.knowledgeBaseWeights.reduce((e,a)=>e+a.weight,0));t(()=>w.value.knowledgeBaseWeights,e=>{if(V.value>100){const a=e.length-1;a>=0&&(e[a].weight=Math.max(0,100-(V.value-e[a].weight)))}},{deep:!0});const D=async()=>{if(w.value.knowledgeBaseWeights.length>0&&100!==V.value)T.warning("知识库权重总和必须为100%");else if(w.value.model){x.value=!0;try{await q(f.chatId,w.value),T.success("设置保存成功"),g("close")}catch(e){T.error("保存设置失败")}finally{x.value=!1}}else T.warning("请选择AI模型")},U=()=>{w.value={..._.value},T.info("设置已重置为默认值")},C=()=>{g("close")};return l(()=>{(async()=>{b.value=!0;try{const e=await S(f.chatId);w.value={..._.value,...e},_.value={...w.value}}catch(e){T.error("获取设置失败"),w.value={..._.value}}finally{b.value=!1}})()}),(e,a)=>{const t=s("el-option"),l=s("el-select"),h=s("el-form-item"),y=s("el-slider"),f=s("el-button"),g=s("el-form");return o(),i("div",B,[u(g,{model:w.value,"label-width":"120px",disabled:b.value},{default:n(()=>[a[10]||(a[10]=r("h3",null,"模型选择设置",-1)),u(h,{label:"大语言模型"},{default:n(()=>[u(l,{modelValue:w.value.model,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value.model=e),placeholder:"请选择AI模型",style:{width:"300px"}},{default:n(()=>[(o(!0),i(d,null,c(k.value,e=>(o(),v(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a[3]||(a[3]=r("div",{class:"form-tip"}," 选择对话使用的AI模型",-1))]),_:1,__:[3]}),a[11]||(a[11]=r("h3",null,"检索策略设置",-1)),u(h,{label:"Top-K"},{default:n(()=>[u(y,{modelValue:w.value.topK,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.topK=e),min:1,max:20,"show-input":""},null,8,["modelValue"]),a[4]||(a[4]=r("div",{class:"form-tip"},"设置检索返回的最相关文本片段数量",-1))]),_:1,__:[4]}),u(h,{label:"相似度阈值"},{default:n(()=>[u(y,{modelValue:w.value.similarityThreshold,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.similarityThreshold=e),min:0,max:1,step:.05,"show-input":""},null,8,["modelValue"]),a[5]||(a[5]=r("div",{class:"form-tip"},"设置匹配的最小相似度，值越高匹配越严格",-1))]),_:1,__:[5]}),a[12]||(a[12]=r("h3",null,"知识库权重设置",-1)),r("div",z,[(o(!0),i(d,null,c(w.value.knowledgeBaseWeights,(e,a)=>(o(),i("div",{key:e.id,class:"kb-item"},[r("span",N,p(e.name),1),u(y,{modelValue:e.weight,"onUpdate:modelValue":a=>e.weight=a,min:0,max:100,step:10,"show-input":"",style:{width:"300px",margin:"0 15px"}},null,8,["modelValue","onUpdate:modelValue"]),r("span",F,p(e.weight)+"%",1)]))),128)),a[6]||(a[6]=r("div",{class:"weight-tip"},"注意：所有权重总和应为100%",-1))]),r("div",H,[u(f,{type:"primary",onClick:D,loading:x.value},{default:n(()=>a[7]||(a[7]=[m("保存设置")])),_:1,__:[7]},8,["loading"]),u(f,{onClick:U},{default:n(()=>a[8]||(a[8]=[m("重置")])),_:1,__:[8]}),u(f,{onClick:C},{default:n(()=>a[9]||(a[9]=[m("取消")])),_:1,__:[9]})])]),_:1,__:[10,11,12]},8,["model","disabled"])])}}},[["__scopeId","data-v-26908540"]]),O={class:"ai-chat-interface"},G={class:"history-header"},J={class:"chat-header"},P={class:"header-actions",style:{"margin-left":"auto",display:"flex",gap:"12px","align-items":"center"}},R=["data-message-id"],Q={key:0,class:"message user-message"},X=["innerHTML"],Y=["data-message-id"],Z={class:"source-detail"},ee={key:0,style:{color:"#e6a23c","font-size":"12px","margin-top":"8px"}},ae=["data-message-id"],te={style:{color:"#999","font-style":"italic"}},le={key:0},se={key:4,class:"feedback-box"},ie={class:"chat-input"},oe={class:"dialog-footer"},ue={class:"dialog-footer"},ne=W({__name:"Service",setup(a){const t=h(),S=e(!1),q=e(!1),W=e(""),B=e([]),z=e([]),N=e(""),F=e(!1),H=e(null),ne=e(!1),re=e(!1),de=e(null),ce=e({}),ve=y({title:""}),pe=e(!1),me=()=>{pe.value=!0},he={issueType:[{required:!0,message:"请选择问题类型",trigger:"change"}],customType:[{required:!0,message:"请输入具体的问题类型",trigger:"blur",validator:(e,a,t)=>{"other"!==ticketData.value.issueType||a?t():t(new Error("请输入具体的问题类型"))}}],issueDetail:[{required:!0,message:"请填写问题详情",trigger:"blur"}]},ye=e(null),fe=e([]);e(null),D.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",flowchart:{curve:"basis",padding:15}});const ge=(e,a)=>{if(!e)return"";try{const t=new I.Renderer,l=t.code.bind(t);t.code=function(e){const a=e.text;return"mermaid"===e.lang?`<div class="mermaid">${a}</div>`:l(e)},I.setOptions({breaks:!0,gfm:!0,headerIds:!1,mangle:!1,renderer:t});let s=I.parse(e);return s=s.replace(/\[(\d+)\]/g,(e,t)=>`<span class="citation-link" data-citation="${t}" data-message-id="${a}">${e}</span>`),s}catch(t){return e}},ke=(e,a,t=0)=>{x(()=>{let l=z.value.find(e=>e.id==a||e.id===String(a)||String(e.id)===String(a));if(!l)return void(t<5?setTimeout(()=>ke(e,a,t+1),800):T.warning("未找到对应的消息，请刷新页面重试"));if(l.isUser){const e=z.value.findIndex(e=>e.id===l.id);if(e>=0&&e<z.value.length-1){const a=z.value[e+1];a.isUser||(l=a)}}if(!l.sources||0===l.sources.length){if(t<5){0===t&&T.info("来源信息正在加载中，请稍候...");return void setTimeout(()=>{ke(e,a,t+1)},800+400*t)}return void T.warning("来源信息加载超时，请稍后手动刷新页面重试")}const s=be(l.sources).findIndex(a=>a.rank==e);-1!==s?we(s,a):T.warning(`未找到引用 [${e}] 对应的来源`)})},we=(e,a)=>{ce.value[a]||(ce.value[a]=[]);const t=`${e}`;ce.value[a].includes(t)||ce.value[a].push(t),x(()=>{setTimeout(()=>{const t=document.querySelector(`[data-message-id="${a}"].sources-box`);t&&(t.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(()=>{const a=t.querySelectorAll(".el-collapse-item");if(a[e]){const t=a[e];t.classList.add("citation-highlight"),setTimeout(()=>{t.classList.remove("citation-highlight")},2e3),t.scrollIntoView({behavior:"smooth",block:"center"})}},400))},100)})},_e=e=>{const a=e.target;if(a.classList.contains("citation-link")){const e=a.getAttribute("data-citation"),t=a.getAttribute("data-message-id");e&&t&&ke(e,t)}},be=e=>e&&Array.isArray(e)?[...e].sort((e,a)=>(e.rank||0)-(a.rank||0)):[],xe=(e,a)=>{if(!e||e.length<=a)return e||"";let t="",l=0;for(let s of e){if(l+=/[\u4e00-\u9fff]/.test(s)?2:1,l>a)break;t+=s}return t+"..."},Ve=e=>{const a=(e.match(/\[(\d+)\](?:\s*\[\d+\])*/g)||[]).map(e=>e.match(/\d+/g)).flat().map(Number);return[...new Set(a)].sort((e,a)=>e-a).join(", ")},Te=e=>{const a=Ve(e.text).split(", ").map(Number),t=e.sources.map(e=>e.rank);return a.filter(e=>!t.includes(e))},De=()=>{S.value=window.innerWidth<=768,S.value&&(q.value=!1)},Ue=()=>{q.value=!q.value},Ce=()=>{De()},Ie=e=>{const a=(e=>{for(let a=z.value.findIndex(a=>a.id===e.id)-1;a>=0;a--)if(z.value[a].isUser)return z.value[a];return null})(e);ticketData.value={issueType:"",customType:"",issueDetail:"",question:a?.text||""},re.value=!0},Se=async()=>{if(!W.value)return void T.warning("请先选择一个对话或创建新对话");const e=ye.value;await e.validate(async e=>{if(e)try{const e=await K({chatId:W.value,question:ticketData.value.question,issueType:"other"===ticketData.value.issueType?ticketData.value.customType:ticketData.value.issueType,issueDetail:ticketData.value.issueDetail}),a=e.data?.ticket_id||"未知ID";T({type:"success",message:`工单提交成功（ID: ${a}）`,duration:5e3}),re.value=!1,ticketData.value={issueType:"",customType:"",issueDetail:"",question:""}}catch(a){T.error("提交工单失败，请稍后重试")}})},qe=()=>{W.value?ne.value=!0:T.warning("请先选择一个对话或创建新对话")},Ae=(e,a)=>{const t=B.value.find(a=>a.id===e);t&&(t.messages=[...a])},$e=()=>{setTimeout(()=>{const e=de.value;e&&(e.scrollTop=e.scrollHeight)},100)},Le=async e=>{H.value&&(H.value.close(),H.value=null),W.value=e;try{const a=await L(e);z.value=(a.messages||[]).map(e=>({...e,sources:Array.isArray(e.sources)?e.sources:[]})),Ae(e,z.value),setTimeout(async()=>{await x();const e=document.querySelectorAll('.mermaid:not([data-processed="true"])');if(e.length>0)try{await D.run({nodes:Array.from(e)}),e.forEach(e=>{e.setAttribute("data-processed","true")})}catch(a){}},500),$e()}catch(a){T.error("加载对话详情失败"),z.value=[]}},Ee=U.debounce(async()=>{if(N.value.trim()&&!F.value&&W.value){const e={id:Date.now().toString(),text:N.value,isUser:!0};z.value.push(e),N.value="",F.value=!0;const a=y({id:Date.now().toString(),text:"",isUser:!1,sources:[]});z.value.push(a),fe.value=[];let t=0;const l=3,s=async()=>{try{const i="http://127.0.0.1:8081/api".replace(/\/api\/?$/,""),o=await $(W.value,e.text),u=o.sseUrl.startsWith("http")?o.sseUrl:i+o.sseUrl;H.value=new EventSource(u),H.value.onmessage=e=>{const t=JSON.parse(e.data||"{}");if("token"===t.type)a.text+=t.content||"",$e();else if("source"===t.type){const e=t.data;e?.rank&&e?.snippet&&fe.value.push(e)}else if("meta"===t.type);else if("result"===t.type){if(t?.data?.answer&&t.data.answer!==a.text){const e=document.querySelector(`[data-message-id="${a.id}"] .markdown-body`);if(e){e.style.opacity="0.4",e.style.transition="opacity 0.15s ease-in-out";const l=e.style.position;e.style.position="relative";const s=document.createElement("div");s.textContent="✨ 正在优化引用格式...",s.style.cssText="\n                                position: absolute;\n                                top: 50%;\n                                left: 50%;\n                                transform: translate(-50%, -50%);\n                                background: rgba(33, 150, 243, 0.9);\n                                color: white;\n                                padding: 6px 12px;\n                                border-radius: 6px;\n                                font-size: 12px;\n                                white-space: nowrap;\n                                z-index: 10;\n                                opacity: 0;\n                                transition: opacity 0.15s ease-in-out;\n                            ",e.appendChild(s),setTimeout(()=>{s.style.opacity="1"},50),setTimeout(()=>{a.text=t.data.answer,x(()=>{e.style.opacity="1",setTimeout(()=>{s.style.opacity="0",setTimeout(()=>{s.parentNode===e&&e.removeChild(s),e.style.position=l},150)},100)})},250)}else a.text=t.data.answer}if(t?.data?.sources){const e=t.data.sources.filter(e=>e.rank);e.forEach(e=>{e.snippet||(e.snippet="[来源片段缺失]")}),a.sources=e,fe.value=[]}}else"end"===t.type&&setTimeout(()=>{H.value.close(),H.value=null,F.value=!1,a.text||(a.text="[无响应内容]"),a.sources||(a.sources=[]),!a.sources.length&&fe.value.length>0&&(a.sources=[...fe.value.filter(e=>e.rank&&e.snippet)]),Ae(W.value,z.value),setTimeout(async()=>{await x();const e=de.value?.querySelectorAll('.mermaid:not([data-processed="true"])')||[];if(e.length>0)try{await D.run({nodes:Array.from(e)}),e.forEach(e=>{e.setAttribute("data-processed","true")})}catch(a){}},500),$e()},2e3)},H.value.onerror=()=>{H.value.close(),H.value=null,t<l?(t++,setTimeout(s,1e3*t)):(T.error("连接失败，请稍后重试"),F.value=!1,a.text||(a.text="[连接失败]"),a.sources||(a.sources=[]))}}catch(i){T.error("请求失败，请检查网络"),F.value=!1,a.text||(a.text="[请求失败]"),a.sources||(a.sources=[])}};await s()}},500),je=async()=>{if(ve.title.trim())try{const e=await j({title:ve.title.trim()}),a={id:String(e.chat_id),title:e.title||ve.title.trim(),messages:[]};B.value.push(a),W.value=a.id,z.value=[],pe.value=!1,T.success("会话创建成功")}catch(e){T.error("创建新对话失败")}else T.warning("请输入会话标题")};return l(async()=>{De(),window.addEventListener("resize",Ce),de.value&&de.value.addEventListener("click",_e);try{const e=await A();B.value=e.map(e=>({...e,id:String(e.id)}));let a=t.query.chatId?String(t.query.chatId):null;a&&B.value.find(e=>e.id===a)?await Le(a):B.value.length&&await Le(B.value[0].id),$e()}catch(e){T.error("加载对话列表失败")}}),f(()=>{de.value&&de.value.removeEventListener("click",_e),H.value&&(H.value.close(),H.value=null),window.removeEventListener("resize",Ce)}),(e,a)=>{const t=s("Expand"),l=s("Fold"),h=s("el-icon"),y=s("el-button"),f=s("Delete"),x=s("el-menu-item"),D=s("el-menu"),U=s("Setting"),I=s("el-collapse-item"),A=s("el-collapse"),$=s("el-input"),L=s("el-dialog"),j=s("el-form-item"),K=s("el-form"),H=s("el-option"),fe=s("el-select");return o(),i("div",O,[S.value?(o(),i("div",{key:0,class:"mobile-chat-list-icon",onClick:Ue},[u(h,null,{default:n(()=>[q.value?(o(),v(l,{key:1})):(o(),v(t,{key:0}))]),_:1})])):g("",!0),r("div",{class:w(["chat-history",{"chat-history-mobile":S.value,"chat-history-visible":q.value||!S.value}])},[r("div",G,[a[13]||(a[13]=r("span",null,"对话列表",-1)),u(y,{type:"primary",link:"",onClick:me,class:"new-chat-button"},{default:n(()=>a[12]||(a[12]=[m("+ 新建")])),_:1,__:[12]})]),u(D,{"default-active":W.value,class:"chat-menu",onSelect:Le},{default:n(()=>[(o(!0),i(d,null,c(B.value,e=>(o(),v(x,{key:e.id,index:e.id},{default:n(()=>[r("span",null,p(e.title),1),u(h,{class:"delete-icon",onClick:k(a=>(async e=>{const a=B.value.find(a=>a.id===e),t=a?.title||"该对话";try{await C.confirm(`确定删除对话 "${t}" 吗？`,"警告",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}),await E(e);const a=B.value.findIndex(a=>a.id===e);B.value.splice(a,1),W.value===e&&(W.value="",z.value=[],B.value.length>0&&await Le(B.value[0].id)),T.success("删除成功")}catch{T.info("已取消删除")}})(e.id),["stop"])},{default:n(()=>[u(f)]),_:2},1032,["onClick"])]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])],2),S.value&&q.value?(o(),i("div",{key:1,class:"chat-history-overlay",onClick:Ue})):g("",!0),r("div",{class:w(["chat-area",{"chat-area-mobile":S.value}])},[r("div",J,[a[14]||(a[14]=r("div",{class:"header-left",style:{display:"flex","align-items":"center"}},[r("img",{class:"assistant-avatar",src:V,alt:"助手头像"}),r("span",{class:"assistant-name"},"平台小助手")],-1)),r("div",P,[u(h,{class:"setting-icon",style:{cursor:"pointer"},onClick:qe},{default:n(()=>[u(U)]),_:1})])]),r("div",{class:"chat-content",ref_key:"chatContentRef",ref:de},[(o(!0),i(d,null,c(z.value,e=>(o(),i("div",{key:e.id,class:w(["message-wrapper",{"user-wrapper":e.isUser}]),"data-message-id":e.id},[e.isUser?(o(),i("div",Q,p(e.text),1)):(o(),i("div",{key:1,class:"message ai-message markdown-body",innerHTML:ge(e.text,e.id)},null,8,X)),!e.isUser&&e.sources&&e.sources.length?(o(),i("div",{key:2,class:"sources-box","data-message-id":e.id},[u(A,{modelValue:ce.value[e.id],"onUpdate:modelValue":a=>ce.value[e.id]=a},{default:n(()=>[(o(!0),i(d,null,c(be(e.sources),(e,t)=>(o(),v(I,{key:t,name:`${t}`,title:`来源 ${e.rank}: ${xe(e.snippet,150)}`},{default:n(()=>[r("div",Z,[r("p",null,[a[15]||(a[15]=r("b",null,"排名:",-1)),m(" "+p(e.rank),1)]),r("p",null,[a[16]||(a[16]=r("b",null,"知识库ID:",-1)),m(" "+p(e.kb_id),1)]),r("p",null,[a[17]||(a[17]=r("b",null,"文档ID:",-1)),m(" "+p(e.document_id),1)]),r("p",null,[a[18]||(a[18]=r("b",null,"分块ID:",-1)),m(" "+p(e.chunk_id),1)]),r("p",null,[a[19]||(a[19]=r("b",null,"片段:",-1)),m(" "+p(e.snippet),1)])])]),_:2},1032,["name","title"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),Te(e).length>0?(o(),i("p",ee," 警告：未找到以下引用的来源信息：["+p(Te(e).join(", "))+"] ",1)):g("",!0)],8,Y)):e.isUser?g("",!0):(o(),i("div",{key:3,class:"sources-box","data-message-id":e.id},[r("p",te,[a[20]||(a[20]=m(" 暂无来源信息 ")),e.text.includes("引用：")?(o(),i("span",le," 检测到引用："+p(Ve(e.text)),1)):g("",!0)])],8,ae)),e.isUser?g("",!0):(o(),i("div",se,[u(y,{type:"text",size:"small",onClick:a=>Ie(e)},{default:n(()=>a[21]||(a[21]=[m(" 反馈此回答 ")])),_:2,__:[21]},1032,["onClick"])]))],10,R))),128))],512),r("div",ie,[u($,{modelValue:N.value,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e),placeholder:"请输入问题...",onKeyup:_(b(Ee),["enter"])},null,8,["modelValue","onKeyup"]),u(y,{type:"primary",onClick:b(Ee),disabled:F.value},{default:n(()=>a[22]||(a[22]=[m("发送")])),_:1,__:[22]},8,["onClick","disabled"])])],2),u(L,{modelValue:ne.value,"onUpdate:modelValue":a[2]||(a[2]=e=>ne.value=e),title:"问答设置",width:"50%","destroy-on-close":!0},{default:n(()=>[u(M,{"chat-id":W.value,onClose:a[1]||(a[1]=e=>ne.value=!1)},null,8,["chat-id"])]),_:1},8,["modelValue"]),u(L,{modelValue:pe.value,"onUpdate:modelValue":a[5]||(a[5]=e=>pe.value=e),title:"新建会话",width:"400px"},{footer:n(()=>[r("span",oe,[u(y,{onClick:a[4]||(a[4]=e=>pe.value=!1)},{default:n(()=>a[23]||(a[23]=[m("取消")])),_:1,__:[23]}),u(y,{type:"primary",onClick:je},{default:n(()=>a[24]||(a[24]=[m("确定")])),_:1,__:[24]})])]),default:n(()=>[u(K,{model:ve,"label-width":"80px"},{default:n(()=>[u(j,{label:"会话标题",prop:"title"},{default:n(()=>[u($,{modelValue:ve.title,"onUpdate:modelValue":a[3]||(a[3]=e=>ve.title=e),placeholder:"请输入会话标题",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),u(L,{modelValue:re.value,"onUpdate:modelValue":a[11]||(a[11]=e=>re.value=e),title:"提交工单",width:"50%","destroy-on-close":!0},{footer:n(()=>[r("span",ue,[u(y,{onClick:a[10]||(a[10]=e=>re.value=!1)},{default:n(()=>a[25]||(a[25]=[m("取消")])),_:1,__:[25]}),u(y,{type:"primary",onClick:Se},{default:n(()=>a[26]||(a[26]=[m("提交")])),_:1,__:[26]})])]),default:n(()=>[u(K,{ref_key:"ticketForm",ref:ye,model:e.ticketData,rules:he,"label-width":"120px"},{default:n(()=>[u(j,{label:"原始问题"},{default:n(()=>[u($,{modelValue:e.ticketData.question,"onUpdate:modelValue":a[6]||(a[6]=a=>e.ticketData.question=a),type:"textarea",rows:2,disabled:""},null,8,["modelValue"])]),_:1}),u(j,{label:"问题类型",prop:"issueType"},{default:n(()=>[u(fe,{modelValue:e.ticketData.issueType,"onUpdate:modelValue":a[7]||(a[7]=a=>e.ticketData.issueType=a),placeholder:"请选择问题类型"},{default:n(()=>[u(H,{label:"事实性错误",value:"fact_error"}),u(H,{label:"相关知识待补充/更新",value:"knowledge_update"}),u(H,{label:"自相矛盾",value:"contradiction"}),u(H,{label:"多源信息冲突",value:"conflict_info"}),u(H,{label:"格式问题",value:"format_issue"}),u(H,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),"other"===e.ticketData.issueType?(o(),v(j,{key:0,label:"自定义类型",prop:"customType"},{default:n(()=>[u($,{modelValue:e.ticketData.customType,"onUpdate:modelValue":a[8]||(a[8]=a=>e.ticketData.customType=a),placeholder:"请输入具体的问题类型"},null,8,["modelValue"])]),_:1})):g("",!0),u(j,{label:"问题详情",prop:"issueDetail"},{default:n(()=>[u($,{modelValue:e.ticketData.issueDetail,"onUpdate:modelValue":a[9]||(a[9]=a=>e.ticketData.issueDetail=a),type:"textarea",rows:5,placeholder:"请详细描述您遇到的问题，包括上下文、期望结果等"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-55569b71"]]);export{ne as default};
